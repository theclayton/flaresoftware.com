import{_ as g,r as i,o as k,u as M,n as z,c as f,a as v,b as c,w as D,V,e as B,f as b,g as p,v as O,h as W,d as l,i as E}from"./index-CYFq_Xzi.js";import{o as N}from"./opensheetmusicdisplay.min-DBBfT0JS.js";const P={class:"container"},$={class:"text-center"},C={class:"osmd-scroll-wrapper"},F={__name:"OSMDhorizontal",setup(w){const s=i(null),o=i(1e3);let e=null,t=i(!0);k(async()=>{t.value=!0;const a=M().params.id;await z(),await y({id:a}),t.value=!1});async function y({id:n}){var m,u,_;e=new N.OpenSheetMusicDisplay(s.value,{drawingParameters:"compact",autoResize:!1}),e.setOptions({newSystemFromXML:!1,pageFormat:void 0,renderSingleHorizontalStaffline:!0});try{await e.load(`/naf-test/${n}.xml`)}catch(r){console.log(r);return}e.Zoom=1,e.render();const a=((_=(u=(m=e.GraphicSheet)==null?void 0:m.Pages)==null?void 0:u[0])==null?void 0:_.Systems)??[];let d=0;a.forEach(r=>{r.Measures.forEach(S=>{var h;d+=((h=S.boundingBox)==null?void 0:h.width)??0})});const x=Math.min(d+100,1e6);o.value=x}return(n,a)=>(l(),f("div",P,[v(V,{to:"/",class:"back-button",icon:"mdi-arrow-left",color:"indigo-darken-3"}),c("div",$,[p(t)?(l(),B(E,{key:0,color:"primary",size:70,width:7,indeterminate:""})):b("",!0)]),D(c("div",C,[c("div",{ref_key:"osmdDiv",ref:s,class:"osmd-inner",style:W({width:o.value+"px"})},null,4)],512),[[O,!p(t)]])]))}},L=g(F,[["__scopeId","data-v-fc67124b"]]),R={class:"main"},I={__name:"OSMDhorizontalView",setup(w){return(s,o)=>(l(),f("main",R,[v(L)]))}};export{I as default};
